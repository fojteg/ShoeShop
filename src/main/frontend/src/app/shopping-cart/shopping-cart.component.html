<div class="container">
  <mat-card class="mt-3">
    <h1>Koszyk ({{order.variants.length}})</h1>
    <mat-list class="mt-4" *ngIf="order.variants.length">
      <mat-list-item *ngFor="let product of order.variants; let idx = index" class="product">
        <mat-icon mat-list-icon class="product-image">
          <img src="../../assets/but.png" alt="but" width="85" height="85">
        </mat-icon>
        <h4 mat-line>{{product.brand}}</h4>
        <p mat-line>{{product.model}}</p>
        <p mat-line>Ilość:
          <mat-form-field class="product-quantity">
            <input matInput appOnlyNumber="true" [(ngModel)]="product.quantity" (ngModelChange)="order.getTotalPrice(); order.saveProductInShoppingCart()">
          </mat-form-field>
        </p>
        <mat-chip-list>
          <mat-chip>{{ product.price * product.quantity }}zł</mat-chip>
        </mat-chip-list>
        <a class="remove" (click)="removeItem(idx)">&times;</a>
        <mat-divider></mat-divider>
      </mat-list-item>
    </mat-list>
    <p *ngIf="!order.variants.length" class="mt-5">Koszyk jest pusty.</p>
    <h2 class="my-4">ŁĄCZNIE: {{order.totalPrice}}ZŁ</h2>
    <button mat-raised-button class="mt-3" [routerLink]="['/']">WRÓĆ DO SKLEPU</button>
    <button mat-raised-button class="make-order mt-3" [routerLink]="['../order-form']" [disabled]="!order.variants.length">DOKONAJ ZAKUPU</button>
  </mat-card>
</div>
